(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{172:function(e,t,a){},180:function(e,t,a){},294:function(e,t,a){e.exports=a(560)},299:function(e,t,a){},320:function(e,t,a){},560:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),c=a.n(r),l=(a(172),a(98),a(562)),i=(a(299),function(){return o.a.createElement(l.a.Header,{className:"app-header"},o.a.createElement("p",{className:"header-title"},"Covid Dashboard"))}),s=a(34),u=a(51),d=(a(320),a(24)),m=a(25),h=a(28),f=a(27),p=a(564),v=(a(180),function(e){return o.a.createElement("div",{className:"card-table"},o.a.createElement(p.a,{title:"Total Cases",className:"maincounter-wrap"},o.a.createElement("h1",{style:{color:"blue"}},e.totalCases)),o.a.createElement(p.a,{title:"Total Recovered",className:"maincounter-wrap"},o.a.createElement("h1",{style:{color:"green"}},e.totalRecovered)),o.a.createElement(p.a,{title:"Total Deaths",className:"maincounter-wrap"},o.a.createElement("h1",{style:{color:"red"}},e.totalDeaths)))}),y=a(563),C="https://api.covid19api.com",w=[{title:"Country",dataIndex:"country",width:150,sorter:{compare:function(e,t){return e.country>t.country?1:e.country<t.country?-1:0},multiple:1},render:function(e,t){return o.a.createElement(s.b,{to:{pathname:"country/".concat(e.toLowerCase()),state:{countryName:{text:e}}}},e)}},{title:"Total Confirmed",dataIndex:"totalConfirmed",width:150,sorter:{compare:function(e,t){return e.totalConfirmed-t.totalConfirmed},multiple:2}},{title:"New Confirmed",dataIndex:"newConfirmed",width:150,sorter:{compare:function(e,t){return e.newConfirmed-t.newConfirmed},multiple:3}},{title:"Total Deaths",dataIndex:"totalDeaths",width:150,sorter:{compare:function(e,t){return e.totalDeaths-t.totalDeaths},multiple:4}},{title:"New Deaths",dataIndex:"newDeaths",width:150,className:"deaths-column",sorter:{compare:function(e,t){return e.newDeaths-t.newDeaths},multiple:5}},{title:"Total Recovered",dataIndex:"totalRecovered",width:150,sorter:{compare:function(e,t){return e.totalRecovered-t.totalRecovered},multiple:6}},{title:"New Recovered",dataIndex:"newRecovered",width:150,sorter:{compare:function(e,t){return e.newRecovered-t.newRecovered},multiple:7}},{title:"Recovery Rate",dataIndex:"recoveryRate",width:150,sorter:{compare:function(e,t){return e.recoveryRate-t.recoveryRate},multiple:8}}];function b(e){return new Date(Date.parse(e)).toDateString()}var E=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={totalConfirmed:"",totalDeaths:"",totalRecovered:"",newConfirmed:"",newDeaths:"",newRecovered:"",lastUpdated:"",countriesData:"",data:""},e}return Object(m.a)(a,[{key:"loadPromise",value:function(){var e=this;fetch(C+"/summary").then((function(t){return t.json().then((function(t){var a=[];a.push({key:0,country:"World",totalConfirmed:t.Global.TotalConfirmed,newConfirmed:t.Global.NewConfirmed,totalDeaths:t.Global.TotalDeaths,newDeaths:t.Global.NewDeaths,newRecovered:t.Global.NewRecovered,totalRecovered:t.Global.TotalRecovered,recoveryRate:(t.Global.TotalRecovered/t.Global.TotalConfirmed).toFixed(2)});for(var n=0;n<t.Countries.length;n++)a.push({key:n+1,country:t.Countries[n].Country,totalConfirmed:t.Countries[n].TotalConfirmed,newConfirmed:t.Countries[n].NewConfirmed,totalDeaths:t.Countries[n].TotalDeaths,newDeaths:t.Countries[n].NewDeaths,newRecovered:t.Countries[n].NewRecovered,totalRecovered:t.Countries[n].TotalRecovered,recoveryRate:(t.Countries[n].TotalConfirmed>0?t.Countries[n].TotalRecovered/t.Countries[n].TotalConfirmed:1).toFixed(2)});e.setState({totalConfirmed:t.Global.TotalConfirmed,totalDeaths:t.Global.TotalDeaths,totalRecovered:t.Global.TotalRecovered,newConfirmed:t.Global.NewConfirmed,newDeaths:t.Global.NewDeaths,newRecovered:t.Global.NewRecovered,lastUpdated:t.Date,countriesData:t.Countries,data:a})}))})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.loadPromise()}},{key:"render",value:function(){var e=w;return o.a.createElement("div",{className:"dashContainer"},o.a.createElement("div",{className:"last-updated"},o.a.createElement("p",null,"Last Updated :"),b(this.state.lastUpdated)),o.a.createElement(v,{totalCases:this.state.totalConfirmed,totalRecovered:this.state.totalRecovered,totalDeaths:this.state.totalDeaths}),o.a.createElement(y.a,{columns:e,dataSource:this.state.data,pagination:{pageSize:50},scroll:{y:1240}}))}}]),a}(o.a.Component),D=function(){return o.a.createElement("div",null,o.a.createElement(E,null))},k=a(92),N=k.a.Option,R=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"optionList",value:function(){for(var e=[],t=this.props.list.sort((function(e,t){return e.country<t.country?-1:e.country>t.country?1:0})),a=0;a<t.length;a++)e.push(o.a.createElement(N,{key:t[a].key},o.a.createElement(s.b,{to:"/country/".concat(t[a].country),className:"nav-text"},t[a].country)));return e}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k.a,{showSearch:!0,style:{width:200},placeholder:"Select a Country",optionFilterProp:"key",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onSearch:this.onSearch,filterOption:function(e,t){return t.key.toLowerCase().indexOf(e.toLowerCase())>=0}},this.optionList()))}}]),a}(o.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={countryList:[]},e}return Object(m.a)(a,[{key:"loadCountryList",value:function(){var e=this;fetch(C+"/countries").then((function(t){return t.json().then((function(t){for(var a=[],n=0;n<t.length;n++)a.push({key:t[n].Slug,country:t[n].Country});e.setState({countryList:a})}))}))}},{key:"componentDidMount",value:function(){this.loadCountryList()}},{key:"click",value:function(e){this.props.parentCallback(e)}},{key:"getCountryList",value:function(){var e=this;return[{title:"Country",dataIndex:"country",width:150,sorter:{compare:function(e,t){return e.country>t.country?1:e.country<t.country?-1:0},multiple:1},render:function(t,a){return o.a.createElement("div",null,o.a.createElement(s.c,{to:{pathname:"/country/".concat(t.toLowerCase())},onClick:function(){e.click(t)}},t))}}]}},{key:"render",value:function(){return this.state.countryList.length>0?o.a.createElement("div",null,o.a.createElement(R,{className:"searchBar",list:this.state.countryList}),o.a.createElement("div",null),o.a.createElement(y.a,{dataSource:this.state.countryList,columns:this.getCountryList(),pagination:{pageSize:50},scroll:{y:840},size:"small"})):o.a.createElement("div",null)}}]),a}(o.a.Component),j=a(38),O=function(e){return o.a.createElement(j.e,{width:600,height:300,data:e.data,margin:{top:5,right:20,bottom:5,left:0}},o.a.createElement(j.a,{strokeDasharray:"3 3"}),o.a.createElement(j.d,{type:"monotone",dataKey:"cases",stroke:e.stroke,dot:!1,name:e.label,strokeWidth:3}),o.a.createElement(j.g,{dataKey:"date",tickLine:!0,interval:20,angle:-30},o.a.createElement(j.b,{offset:0,position:"insideBottom"})),o.a.createElement(j.h,{axisLine:!1}),o.a.createElement(j.f,{cursor:!1}),o.a.createElement(j.c,{verticalAlign:"top",height:36}))},T=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={countryName:"",totalCases:[],deaths:[],recoveredCases:[]},e}return Object(m.a)(a,[{key:"loadPromise",value:function(e){var t=this;fetch(C+"/total/country/".concat(e)).then((function(e){return e.json().then((function(e){t.formDataObject(e)}))}))}},{key:"formDataObject",value:function(e){var t=[],a=[],n=[];e.forEach((function(e){t.push({date:b(e.Date),cases:e.Confirmed}),a.push({date:b(e.Date),cases:e.Deaths}),n.push({date:b(e.Date),cases:e.Recovered})})),this.setState({totalCases:t,deaths:a,recoveredCases:n})}},{key:"componentDidMount",value:function(){this.loadPromise(this.props.countryName)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.countryName!==this.props.countryName&&this.setState({totalCases:[]},(function(){t.loadPromise(e.countryName)}))}},{key:"render",value:function(){return this.state.totalCases.length>0?o.a.createElement("div",null,o.a.createElement(O,{id:"totalCases",data:this.state.totalCases,label:"Total Cases",stroke:"blue"}),o.a.createElement(O,{id:"deaths",data:this.state.deaths,label:"Total Deaths",stroke:"red"}),o.a.createElement(O,{id:"recovered",data:this.state.recoveredCases,label:"Recovered Cases",stroke:"green"})):o.a.createElement("div",null)}}]),a}(o.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={countryName:""},e.callbackFunction=function(t){e.setState({countryName:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({countryName:this.props.location.state?this.props.location.state.countryName.text.toLowerCase():window.location.pathname.replace("/country/","")})}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({countryName:this.props.location.pathname.replace("/country/","")})}},{key:"render",value:function(){return""!==this.state.countryName?o.a.createElement("div",{className:"dashboard"},o.a.createElement("div",{className:"countryList column left"},o.a.createElement(g,{parentCallback:this.callbackFunction})),o.a.createElement("div",{className:"charts-container column right"},o.a.createElement(T,{countryName:this.state.countryName}))):o.a.createElement("div",null)}}]),a}(o.a.Component),x=Object(u.f)((function(e){return o.a.createElement(L,e)})),S=function(){return o.a.createElement(s.a,null,o.a.createElement(i,null),o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/",component:D,exact:!0}),o.a.createElement(u.a,{path:"/country/:name",component:x,exact:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[294,1,2]]]);
//# sourceMappingURL=main.2c52a88f.chunk.js.map